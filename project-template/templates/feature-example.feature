# language: zh-TW
# Gherkin 語法範例 (.feature 文件)
# 用途: SBE (Specification by Example) Workshop 產出
# Agent: 小質 (xiaozhi-quality.md)

功能: 計算機基本運算
  作為一名用戶
  我想要使用計算機進行基本運算
  以便快速得到計算結果

  背景:
    假如 計算機已初始化
    而且 顯示為 0

  場景大綱: 加法運算
    假如 我輸入第一個數字 <num1>
    而且 我按下加號按鈕
    而且 我輸入第二個數字 <num2>
    當 我按下等號按鈕
    那麼 顯示結果應該是 <result>

    範例:
      | num1 | num2 | result |
      | 2    | 3    | 5      |
      | 10   | 15   | 25     |
      | -5   | 3    | -2     |
      | 0    | 0    | 0      |

  場景: 除以零錯誤處理
    假如 我輸入第一個數字 10
    而且 我按下除號按鈕
    而且 我輸入第二個數字 0
    當 我按下等號按鈕
    那麼 應該顯示錯誤訊息 "除數不能為零"
    而且 計算機狀態應該重置為初始值

  場景: 連續運算
    假如 我輸入第一個數字 5
    而且 我按下加號按鈕
    而且 我輸入第二個數字 3
    而且 我按下等號按鈕
    而且 顯示結果應該是 8
    當 我按下乘號按鈕
    而且 我輸入數字 2
    而且 我按下等號按鈕
    那麼 顯示結果應該是 16

  # 邊界條件測試
  場景大綱: 大數運算邊界
    假如 我輸入第一個數字 <large_num1>
    而且 我按下 <operator> 按鈕
    而且 我輸入第二個數字 <large_num2>
    當 我按下等號按鈕
    那麼 顯示結果應該是 <result>

    範例: 接近 MAX_INT 的運算
      | large_num1 | operator | large_num2 | result          |
      | 2147483647 | +        | 1          | 溢位錯誤        |
      | 2147483647 | -        | 1          | 2147483646      |
      | 1000000    | *        | 1000       | 1000000000      |

  # 效能需求
  @performance
  場景: 大量連續運算效能
    假如 我執行 1000 次連續加法運算
    當 我測量總執行時間
    那麼 總時間應該小於 100 毫秒
    而且 平均每次運算時間應該小於 0.1 毫秒
